<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Tutorial - QuAntiL</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Tutorial";
        var mkdocs_page_input_path = "user-guide/quantme/tutorial.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> QuAntiL
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/docker/">Quickstart</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../qc-atlas/">QC Atlas</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../qverview/">Qverview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../qhana/">QHAna</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../qhana-new/">QHAna (new)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../circuit-transformer/">Circuit Transformer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../nisq-analyzer/">NISQ Analyzer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">QuantME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../qprov/">QProv</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../planqk-library/">PlanQK Library</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/intellij/">IntelliJ Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/openapi/">OpenAPI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/qc-atlas/application-architecture/">Application Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/qc-atlas/testing/">Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../developer-guide/qc-atlas/db-migrations/">Database migrations</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">QuAntiL</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Tutorial</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/UST-QuAntiL/quantil-docs/tree/master/docs/user-guide/quantme/tutorial.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="tutorial">Tutorial</h2>
<p>In the following, it is described how to set up the QuantME Modeling and Transformation Framework, create a QRM repository with one QRM, and use it to transform an example QuantME workflow to a workflow containing only native BPMN modeling constructs.</p>
<p>1. Clone the QuantME Modeling and Transformation Framework:</p>
<pre><code>git clone https://github.com/UST-QuAntiL/QuantME-TransformationFramework.git
</code></pre>
<p>2. Create a Github repository for your QRMs. 
In the following we will assume the repository is available under the <code>UST-QuAntiL</code> Github organization and has the repository name <code>qrm-test</code>.
Please adapt these values to your setup in the following steps.</p>
<p>3. Configure the QuantME Modeling and Transformation Framework to use the created QRM repository:
- Navigate to the configuration file that is located <a href="https://github.com/UST-QuAntiL/QuantME-TransformationFramework/blob/develop/app/lib/quantme/qrm-manager/RepositoryConfig.js">here</a>
- Insert the user/organisation name and repository name:</p>
<pre><code class="language-JS">module.exports = {
  githubUsername: 'UST-QuAntiL',
  githubRepositoryName: 'qrm-test'
  githubRepositoryPath: ''
};
</code></pre>
<p>4. Start the QuantME Modeling and Transformation Framework:</p>
<ul>
<li>
<p>In development mode: Build the plugins contained in this <a href="https://github.com/UST-QuAntiL/QuantME-TransformationFramework/tree/develop/resources/plugins">folder</a> and then run <code>npm run install</code> and <code>npm run dev</code> in the root folder.
Then, the framework will start automatically.</p>
</li>
<li>
<p>In production mode: Run <code>npm run install</code> and <code>npm run build</code>.
The application is build in <code>.\dist</code> and can be started depending on your operating system.</p>
</li>
</ul>
<p>5. Use the framework to create a QRM (detector and replacement fragment):</p>
<ul>
<li>
<p>First, create the detector for the QRM:</p>
</li>
<li>
<p>Open a new BPMN diagram:</p>
<p><img alt="Open Diagram" class="center" src="/user-guide/quantme/images/tutorial-open-diagram.png" style="width:900px" /></p>
</li>
<li>
<p>Delete the start event and add a new task:</p>
</li>
</ul>
<p><img alt="Add Task" class="center" src="/user-guide/quantme/images/tutorial-create-task.gif" style="width:900px" /></p>
<ul>
<li>Replace the task by a task of type <code>ReadoutErrorMitigationTask</code></li>
</ul>
<p><img alt="Replace Task" class="center" src="/user-guide/quantme/images/tutorial-replace-task.gif" style="width:900px" /></p>
<ul>
<li>Set the attributes of the detector:</li>
</ul>
<p><img alt="Set Attributes" class="center" src="/user-guide/quantme/images/tutorial-set-attributes.gif" style="width:900px" /></p>
<p>In this example, we want to create a replacement fragment that can apply the <em>correction matrix</em> unfolding technique to calculations performed on <em>ibmq_rome</em> or <em>ibmq_london</em>. 
   Therefore, we define <code>Correction Matrix</code> for the <em>unfolding technique</em> attribute of the task and the list <code>ibmq_rome, ibmq_london</code> for the <em>QPU</em> attribute.
   Our implementation will handle arbitrary values for the <em>max age</em> attribute, thus, we add a wildcard (<code>*</code>) for this attribute.
   Note: For workflows only numerical values are allowed for the <em>max age</em> attribute. 
   Therefore, the wildcard is marked as faulty.
   However, this does not apply to detectors.</p>
<ul>
<li>
<p>Store the detector under the name <code>detector.bpmn</code> in a new folder of the QRM repository and commit it.
    The detector for this example in XML format can be found <a href="https://github.com/UST-QuAntiL/QuantME-TransformationFramework/blob/develop/docs/quantme/QRM/detector.bpmn">here</a>.</p>
</li>
<li>
<p>Second, create the replacement fragment:</p>
</li>
<li>
<p>Create a new BPMN diagram</p>
</li>
<li>
<p>Add a subprocess and three contained tasks as depicted below:</p>
<p><img alt="Model Replacement" class="center" src="/user-guide/quantme/images/tutorial-replacement.png" style="width:900px" /></p>
<p>Store the created replacement fragment under the name <code>replacement.bpmn</code> in the folder of the QRM repository and commit it.
The replacement fragment for this example in XML format can be found <a href="https://github.com/UST-QuAntiL/QuantME-TransformationFramework/blob/develop/docs/quantme/QRM/replacement.bpmn">here</a>.</p>
<p>In this example, we assume that the different tasks are implemented as <a href="https://docs.camunda.org/manual/7.8/user-guide/process-engine/external-tasks/">external tasks</a>.
This means when the task is executed, the Camunda engine publishes a work item in a list, which can be polled and performed by some consumer service.
However, the kind of implementation of tasks does not affect the transformation method and is up to the QRM modeler.</p>
</li>
</ul>
<p>6. Create the QuantME workflow:</p>
<ul>
<li>
<p>Now a QuantME workflow can be modeled that uses a ReadoutErrorMitigationTask.
    Thus, it can later be transformed into a workflow using only native BPMN modeling constructs.
    For the sake of simplicity, we use a workflow with only one ReadoutErrorMitigationTask in this example.
    Of course, the execution of just that task is not useful, but additional tasks and corresponding QRMs can be added in the same way.
    Thus, our example workflow is depicted in the following figure:</p>
<p><img alt="Example Workflow" class="center" src="/user-guide/quantme/images/tutorial-example-workflow.png" style="width:900px" /></p>
<p>Please note the defined attributes of the ReadoutErrorMitigationTask as shown in the bottom left corner of the figure.
The example workflow in XML format can be found <a href="https://github.com/UST-QuAntiL/QuantME-TransformationFramework/blob/develop/docs/quantme/Tutorial/example-workflow.bpmn">here</a>.</p>
</li>
<li>
<p>Update the QRM repository: 
    The QRM repository is loaded into the QuantME Modeling and Transformation Framework at startup.
    Therefore, if there are updates in the repository during the runtime of the framework, the QRM repository has to be reloaded.
    This can be requested in the menu: </p>
<p><img alt="Reload QRMs" class="center" src="/user-guide/quantme/images/tutorial-reload-qrms.gif" style="width:900px" /></p>
<p>Note: The Github API takes some time to return the updated files.
Thus, if you experience some issues, wait some time and then update the QRM repository again.</p>
</li>
<li>
<p>Then, the QuantME workflow model can be transformed to a native workflow model:</p>
<p><img alt="Transform Workflow" class="center" src="/user-guide/quantme/images/tutorial-transform-workflow.gif" style="width:900px" /></p>
</li>
</ul>
<p>7. Finally, the resulting workflow model can be manually adapted and deployed to a BPMN engine, such as the <a href="https://camunda.com/products/camunda-bpm/bpmn-engine/">Camunda engine</a> to execute it.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/UST-QuAntiL/quantil-docs" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
